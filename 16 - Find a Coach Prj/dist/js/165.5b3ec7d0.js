"use strict";(self["webpackChunkFind_a_Coach"]=self["webpackChunkFind_a_Coach"]||[]).push([[165],{4165:function(t,i,o){o.r(i),o.d(i,{default:function(){return f}});var e=o(3396),s=o(7139),a=o(9242);const r=t=>((0,e.dD)("data-v-18363d12"),t=t(),(0,e.Cn)(),t),n={class:"formControl"},l=r((()=>(0,e._)("label",{for:"email"},"E-Mail",-1))),d={class:"formControl"},u=r((()=>(0,e._)("label",{for:"password"},"Password",-1))),m={key:0,class:"err"};function h(t,i,o,r,h,p){const c=(0,e.up)("BaseDialog"),w=(0,e.up)("BaseSpinner"),f=(0,e.up)("BaseButton"),g=(0,e.up)("BaseCard");return(0,e.wg)(),(0,e.iD)("div",null,[(0,e.Wm)(c,{show:!!h.error,onClose:p.handleErr,title:"An  error occurred.",fixed:""},{default:(0,e.w5)((()=>[(0,e._)("p",null,(0,s.zw)(h.error),1)])),_:1},8,["show","onClose"]),(0,e.Wm)(c,{show:h.isLoading,title:"Authenticating...",fixed:""},{default:(0,e.w5)((()=>[(0,e.Wm)(w)])),_:1},8,["show"]),(0,e.Wm)(g,null,{default:(0,e.w5)((()=>[(0,e._)("form",{onSubmit:i[2]||(i[2]=(0,a.iM)(((...t)=>p.submitForm&&p.submitForm(...t)),["prevent"]))},[(0,e._)("div",n,[l,(0,e.wy)((0,e._)("input",{type:"email",id:"email","onUpdate:modelValue":i[0]||(i[0]=t=>h.email=t)},null,512),[[a.nr,h.email,void 0,{trim:!0}]])]),(0,e._)("div",d,[u,(0,e.wy)((0,e._)("input",{type:"password",id:"password","onUpdate:modelValue":i[1]||(i[1]=t=>h.password=t)},null,512),[[a.nr,h.password,void 0,{trim:!0}]])]),h.formIsValid?(0,e.kq)("",!0):((0,e.wg)(),(0,e.iD)("p",m," Please enter a valid email and password (At least 6 characters long). ")),(0,e.Wm)(f,null,{default:(0,e.w5)((()=>[(0,e.Uk)((0,s.zw)(p.submitButtonCaption),1)])),_:1}),(0,e.Wm)(f,{type:"button",mode:"flat",onClick:p.switchAuthMode},{default:(0,e.w5)((()=>[(0,e.Uk)((0,s.zw)(p.switchModeButtonCaption),1)])),_:1},8,["onClick"])],32)])),_:1})])}var p={data(){return{email:"",password:"",formIsValid:!0,mode:"login",isLoading:!1,error:null}},computed:{submitButtonCaption(){return"login"===this.mode?"Login":"Signup"},switchModeButtonCaption(){return"login"===this.mode?"Signup instead":"Login instead"}},methods:{async submitForm(){if(this.formIsValid=!0,""===this.email||!this.email.includes("@")||this.password.length<6)return void(this.formIsValid=!1);this.isLoading=!0;const t={email:this.email,password:this.password};try{"login"===this.mode?await this.$store.dispatch("login",t):await this.$store.dispatch("signup",t);const i="/"+(this.$route.query.redirect||"coaches");this.$router.replace(i)}catch(i){this.error=i.message||"Failed, try later. "}this.isLoading=!1},switchAuthMode(){"login"===this.mode?this.mode="signup":this.mode="login"},handleErr(){this.error=null}}},c=o(89);const w=(0,c.Z)(p,[["render",h],["__scopeId","data-v-18363d12"]]);var f=w}}]);
//# sourceMappingURL=165.5b3ec7d0.js.map